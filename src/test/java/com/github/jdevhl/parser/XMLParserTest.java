package com.github.jdevhl.parser;

import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

class XMLParserTest {

    @Test
    public void removeXmlSoapEnvelopeAndBodyTest() {
        String xmlOrigin =
                "<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"><soap:Body><saveResponse xmlns=\"http://websvc.customer.sirius.adeo.com/v51\"><groups><household><householdId>10664803</householdId><contacts><customerNumber>507693996</customerNumber><optins><type>9</type><value>false</value><updateDate>2022-03-02T11:42:16+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>1</type><value>true</value><updateDate>2022-03-02T11:42:46+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>14</type><value>false</value><updateDate>2022-03-02T11:42:16+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>8</type><value>false</value><updateDate>2022-03-02T11:42:16+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>15</type><value>false</value><updateDate>2022-03-02T11:42:16+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>3</type><value>true</value><updateDate>2022-03-02T11:42:46+01:00</updateDate><communicationType>PHONE</communicationType><active>true</active></optins><optins><type>2</type><value>true</value><updateDate>2022-03-02T11:42:46+01:00</updateDate><communicationType>PHONE</communicationType><active>true</active></optins><optins><type>4</type><value>true</value><updateDate>2022-03-02T11:42:33+01:00</updateDate><communicationType>EMAIL</communicationType><active>true</active></optins><optins><type>15</type><value>true</value><updateDate>2019-10-14T14:46:35+02:00</updateDate><active>true</active></optins><classifications><type>2</type><code>1</code><active>true</active></classifications><classifications><type>13</type><code>1</code><active>true</active></classifications><classifications><type>5</type><code>6</code><active>true</active></classifications><externalIdentifiers><type>5</type><value>93010022000676491</value><label>VALID</label><code>VALID</code><externalDate>2999-12-31T00:00:00+01:00</externalDate><active>true</active></externalIdentifiers><externalIdentifiers><type>1</type><value>44358858E</value><code>DNI</code><active>true</active></externalIdentifiers><externalIdentifiers><type>22</type><value>francisco-javier.camara@leroymerlin.es</value><active>true</active></externalIdentifiers><externalIdentifiers><type>21</type><value>AXXbBRQrAUVPSPMsu5gr</value><code>ACTIVE</code><active>true</active></externalIdentifiers><customerLocks><lockCreationDate>2018-02-14T17:08:28+01:00</lockCreationDate><lockUpdateDate>2018-02-14T17:08:28+01:00</lockUpdateDate><lockEndDate>2018-05-15T17:08:28+02:00</lockEndDate><application>webaccount</application><deletable>false</deletable><modifiable>true</modifiable></customerLocks><customerLocks><lockCreationDate>2022-01-25T11:41:03+01:00</lockCreationDate><lockUpdateDate>2022-01-25T11:41:03+01:00</lockUpdateDate><lockEndDate>2022-02-24T11:41:03+01:00</lockEndDate><application>WLL</application><deletable>false</deletable><modifiable>true</modifiable></customerLocks><active>true</active><identity><title>1</title><firstName>FRANCISCO JAVIER</firstName><lastName>CAMARA SANCHEZ</lastName><creationEntity>58</creationEntity><mainContact>true</mainContact><customerStatus>1</customerStatus></identity><communications><id>18455195</id><detail><type>PHONE</type><value>11679333666</value><order>10</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455197</id><detail><type>PHONE</type><value>11679333666</value><order>8</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455196</id><detail><type>PHONE</type><value>11679333666</value><order>7</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455198</id><detail><type>PHONE</type><value>11679333666</value><order>5</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18453182</id><detail><type>PHONE</type><value>679333234</value><order>9</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455241</id><detail><type>PHONE</type><value>11679333666</value><order>3</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455240</id><detail><type>PHONE</type><value>11679333666</value><order>6</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455243</id><detail><type>PHONE</type><value>11679333666</value><order>1</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455242</id><detail><type>PHONE</type><value>11679333666</value><order>4</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455245</id><detail><type>PHONE</type><value>11679333666</value><order>2</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455246</id><detail><type>PHONE</type><value>11679333666</value><order>0</order><main>true</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18454759</id><detail><type>EMAIL</type><value>francisco-javier.camara@leroymerlin.es</value><order>0</order><main>true</main></detail><goneAway>false</goneAway><active>true</active></communications><leisures><type>8</type><level>1</level><active>true</active></leisures><leisures><type>11</type><level>2</level><active>true</active></leisures><leisures><type>9</type><level>2</level><active>true</active></leisures><leisures><type>10</type><level>2</level><active>true</active></leisures></contacts></household></groups></saveResponse></soap:Body></soap:Envelope>";
        String xmlResult =
                "<saveResponse xmlns=\"http://websvc.customer.sirius.adeo.com/v51\"><groups><household><householdId>10664803</householdId><contacts><customerNumber>507693996</customerNumber><optins><type>9</type><value>false</value><updateDate>2022-03-02T11:42:16+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>1</type><value>true</value><updateDate>2022-03-02T11:42:46+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>14</type><value>false</value><updateDate>2022-03-02T11:42:16+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>8</type><value>false</value><updateDate>2022-03-02T11:42:16+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>15</type><value>false</value><updateDate>2022-03-02T11:42:16+01:00</updateDate><communicationType>ADDRESS</communicationType><active>true</active></optins><optins><type>3</type><value>true</value><updateDate>2022-03-02T11:42:46+01:00</updateDate><communicationType>PHONE</communicationType><active>true</active></optins><optins><type>2</type><value>true</value><updateDate>2022-03-02T11:42:46+01:00</updateDate><communicationType>PHONE</communicationType><active>true</active></optins><optins><type>4</type><value>true</value><updateDate>2022-03-02T11:42:33+01:00</updateDate><communicationType>EMAIL</communicationType><active>true</active></optins><optins><type>15</type><value>true</value><updateDate>2019-10-14T14:46:35+02:00</updateDate><active>true</active></optins><classifications><type>2</type><code>1</code><active>true</active></classifications><classifications><type>13</type><code>1</code><active>true</active></classifications><classifications><type>5</type><code>6</code><active>true</active></classifications><externalIdentifiers><type>5</type><value>93010022000676491</value><label>VALID</label><code>VALID</code><externalDate>2999-12-31T00:00:00+01:00</externalDate><active>true</active></externalIdentifiers><externalIdentifiers><type>1</type><value>44358858E</value><code>DNI</code><active>true</active></externalIdentifiers><externalIdentifiers><type>22</type><value>francisco-javier.camara@leroymerlin.es</value><active>true</active></externalIdentifiers><externalIdentifiers><type>21</type><value>AXXbBRQrAUVPSPMsu5gr</value><code>ACTIVE</code><active>true</active></externalIdentifiers><customerLocks><lockCreationDate>2018-02-14T17:08:28+01:00</lockCreationDate><lockUpdateDate>2018-02-14T17:08:28+01:00</lockUpdateDate><lockEndDate>2018-05-15T17:08:28+02:00</lockEndDate><application>webaccount</application><deletable>false</deletable><modifiable>true</modifiable></customerLocks><customerLocks><lockCreationDate>2022-01-25T11:41:03+01:00</lockCreationDate><lockUpdateDate>2022-01-25T11:41:03+01:00</lockUpdateDate><lockEndDate>2022-02-24T11:41:03+01:00</lockEndDate><application>WLL</application><deletable>false</deletable><modifiable>true</modifiable></customerLocks><active>true</active><identity><title>1</title><firstName>FRANCISCO JAVIER</firstName><lastName>CAMARA SANCHEZ</lastName><creationEntity>58</creationEntity><mainContact>true</mainContact><customerStatus>1</customerStatus></identity><communications><id>18455195</id><detail><type>PHONE</type><value>11679333666</value><order>10</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455197</id><detail><type>PHONE</type><value>11679333666</value><order>8</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455196</id><detail><type>PHONE</type><value>11679333666</value><order>7</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455198</id><detail><type>PHONE</type><value>11679333666</value><order>5</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18453182</id><detail><type>PHONE</type><value>679333234</value><order>9</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455241</id><detail><type>PHONE</type><value>11679333666</value><order>3</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455240</id><detail><type>PHONE</type><value>11679333666</value><order>6</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455243</id><detail><type>PHONE</type><value>11679333666</value><order>1</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455242</id><detail><type>PHONE</type><value>11679333666</value><order>4</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455245</id><detail><type>PHONE</type><value>11679333666</value><order>2</order><main>false</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18455246</id><detail><type>PHONE</type><value>11679333666</value><order>0</order><main>true</main><country>ES</country><phoneType>0</phoneType></detail><goneAway>false</goneAway><active>true</active></communications><communications><id>18454759</id><detail><type>EMAIL</type><value>francisco-javier.camara@leroymerlin.es</value><order>0</order><main>true</main></detail><goneAway>false</goneAway><active>true</active></communications><leisures><type>8</type><level>1</level><active>true</active></leisures><leisures><type>11</type><level>2</level><active>true</active></leisures><leisures><type>9</type><level>2</level><active>true</active></leisures><leisures><type>10</type><level>2</level><active>true</active></leisures></contacts></household></groups></saveResponse>";

        assertEquals(xmlResult, XMLParser.cleanSoapEnvelopeAndBody(xmlOrigin));
    }

}